#include "character.hpp"
#include "elona.hpp"
#include "random.hpp"
#include "variables.hpp"


namespace
{


struct character_generation_info
{
    int id;
    int level;
    int fltselect;
    int category;
    const char* race;
    int filter_creature_index;
    int rarity;
    int coefficient;
};



const character_generation_info character_generation_info_table[] = {
    {
        0,
        1,
        1,
        0,
        u8"slime",
        2,
        100000,
        400,
    },
    {
        343,
        1,
        3,
        0,
        u8"god",
        3,
        100000,
        400,
    },
    {
        1,
        35,
        7,
        0,
        u8"norland",
        4,
        100000,
        400,
    },
    {
        353,
        22,
        1,
        0,
        u8"juere",
        5,
        100000,
        400,
    },
    {
        70,
        20,
        1,
        0,
        u8"norland",
        6,
        100000,
        400,
    },
    {
        69,
        20,
        7,
        0,
        u8"norland",
        7,
        100000,
        400,
    },
    {
        73,
        40,
        7,
        0,
        u8"norland",
        8,
        100000,
        400,
    },
    {
        74,
        20,
        7,
        0,
        u8"norland",
        9,
        100000,
        400,
    },
    {
        206,
        50,
        7,
        0,
        u8"norland",
        10,
        100000,
        400,
    },
    {
        38,
        20,
        7,
        0,
        u8"norland",
        11,
        100000,
        400,
    },
    {
        40,
        40,
        7,
        0,
        u8"norland",
        12,
        100000,
        400,
    },
    {
        333,
        69,
        1,
        0,
        u8"norland",
        13,
        100000,
        400,
    },
    {
        76,
        40,
        9,
        0,
        u8"norland",
        14,
        100000,
        400,
    },
    {
        77,
        40,
        9,
        0,
        u8"yerles",
        15,
        100000,
        400,
    },
    {
        204,
        10,
        9,
        0,
        u8"norland",
        16,
        100000,
        400,
    },
    {
        2,
        55,
        3,
        0,
        u8"elea",
        17,
        100000,
        400,
    },
    {
        37,
        1,
        1,
        0,
        u8"norland",
        18,
        100000,
        400,
    },
    {
        23,
        20,
        3,
        0,
        u8"juere",
        19,
        1000,
        400,
    },
    {
        26,
        6,
        2,
        0,
        u8"norland",
        20,
        1000,
        400,
    },
    {
        27,
        42,
        2,
        0,
        u8"norland",
        21,
        1000,
        400,
    },
    {
        28,
        78,
        3,
        0,
        u8"juere",
        22,
        1000,
        400,
    },
    {
        29,
        50,
        3,
        0,
        u8"juere",
        23,
        1000,
        400,
    },
    {
        140,
        25,
        3,
        0,
        u8"dragon",
        24,
        1000,
        400,
    },
    {
        30,
        20,
        3,
        0,
        u8"norland",
        25,
        100000,
        400,
    },
    {
        31,
        20,
        3,
        0,
        u8"juere",
        26,
        100000,
        400,
    },
    {
        351,
        130,
        3,
        0,
        u8"cat",
        27,
        100000,
        400,
    },
    {
        352,
        1,
        3,
        0,
        u8"norland",
        28,
        100000,
        400,
    },
    {
        32,
        20,
        2,
        0,
        u8"norland",
        29,
        100000,
        400,
    },
    {
        33,
        20,
        3,
        0,
        u8"elea",
        30,
        100000,
        400,
    },
    {
        34,
        20,
        3,
        0,
        u8"elea",
        31,
        100000,
        400,
    },
    {
        139,
        10,
        3,
        0,
        u8"norland",
        32,
        100000,
        400,
    },
    {
        146,
        10,
        3,
        0,
        u8"norland",
        33,
        100000,
        400,
    },
    {
        142,
        10,
        3,
        0,
        u8"norland",
        34,
        100000,
        400,
    },
    {
        141,
        28,
        3,
        0,
        u8"lich",
        35,
        100000,
        400,
    },
    {
        143,
        25,
        3,
        0,
        u8"norland",
        36,
        100000,
        400,
    },
    {
        144,
        24,
        3,
        0,
        u8"norland",
        37,
        100000,
        400,
    },
    {
        145,
        16,
        3,
        0,
        u8"dragon",
        38,
        100000,
        400,
    },
    {
        306,
        350,
        3,
        0,
        u8"god",
        39,
        100000,
        400,
    },
    {
        331,
        350,
        3,
        0,
        u8"god",
        40,
        100000,
        400,
    },
    {
        336,
        1200,
        3,
        0,
        u8"god",
        41,
        100000,
        400,
    },
    {
        338,
        350,
        3,
        0,
        u8"god",
        42,
        100000,
        400,
    },
    {
        339,
        350,
        3,
        0,
        u8"god",
        43,
        100000,
        400,
    },
    {
        342,
        350,
        3,
        0,
        u8"god",
        44,
        100000,
        400,
    },
    {
        340,
        1200,
        3,
        0,
        u8"god",
        45,
        100000,
        400,
    },
    {
        3,
        1,
        0,
        3,
        u8"slime",
        46,
        80000,
        400,
    },
    {
        4,
        4,
        0,
        3,
        u8"slime",
        47,
        70000,
        400,
    },
    {
        169,
        10,
        0,
        3,
        u8"slime",
        48,
        70000,
        400,
    },
    {
        194,
        16,
        0,
        3,
        u8"slime",
        49,
        70000,
        400,
    },
    {
        286,
        9,
        0,
        0,
        u8"slime",
        50,
        25000,
        400,
    },
    {
        285,
        22,
        0,
        0,
        u8"slime",
        51,
        25000,
        400,
    },
    {
        287,
        20,
        0,
        0,
        u8"drake",
        52,
        25000,
        400,
    },
    {
        327,
        52,
        0,
        0,
        u8"machine",
        53,
        15000,
        400,
    },
    {
        5,
        1,
        0,
        0,
        u8"rabbit",
        54,
        100000,
        400,
    },
    {
        6,
        1,
        0,
        0,
        u8"snail",
        55,
        100000,
        400,
    },
    {
        7,
        3,
        0,
        0,
        u8"norland",
        56,
        100000,
        400,
    },
    {
        8,
        4,
        5,
        0,
        u8"norland",
        57,
        100000,
        400,
    },
    {
        9,
        2,
        5,
        0,
        u8"norland",
        58,
        100000,
        400,
    },
    {
        269,
        5,
        9,
        0,
        u8"norland",
        59,
        2000,
        400,
    },
    {
        320,
        32,
        9,
        0,
        u8"norland",
        60,
        10000,
        100,
    },
    {
        273,
        5,
        9,
        0,
        u8"norland",
        61,
        2000,
        400,
    },
    {
        326,
        16,
        7,
        0,
        u8"juere",
        62,
        2000,
        400,
    },
    {
        270,
        5,
        9,
        0,
        u8"norland",
        63,
        2000,
        400,
    },
    {
        349,
        12,
        1,
        0,
        u8"norland",
        64,
        2000,
        400,
    },
    {
        348,
        35,
        3,
        0,
        u8"norland",
        65,
        2000,
        400,
    },
    {
        347,
        5,
        1,
        0,
        u8"norland",
        66,
        2000,
        400,
    },
    {
        271,
        8,
        9,
        0,
        u8"norland",
        67,
        2000,
        400,
    },
    {
        335,
        8,
        9,
        0,
        u8"norland",
        68,
        2000,
        400,
    },
    {
        337,
        3,
        9,
        0,
        u8"norland",
        69,
        2000,
        400,
    },
    {
        272,
        6,
        9,
        0,
        u8"norland",
        70,
        2000,
        400,
    },
    {
        274,
        10,
        9,
        0,
        u8"norland",
        71,
        2000,
        400,
    },
    {
        289,
        26,
        9,
        0,
        u8"eulderna",
        72,
        2000,
        400,
    },
    {
        293,
        26,
        9,
        0,
        u8"juere",
        73,
        2000,
        400,
    },
    {
        295,
        26,
        9,
        0,
        u8"norland",
        74,
        2000,
        400,
    },
    {
        35,
        1,
        5,
        0,
        u8"norland",
        75,
        100000,
        400,
    },
    {
        36,
        1,
        5,
        0,
        u8"norland",
        76,
        100000,
        400,
    },
    {
        174,
        1,
        0,
        0,
        u8"norland",
        77,
        60000,
        400,
    },
    {
        10,
        1,
        0,
        0,
        u8"sheep",
        78,
        30000,
        400,
    },
    {
        11,
        2,
        0,
        0,
        u8"frog",
        79,
        100000,
        400,
    },
    {
        12,
        3,
        0,
        0,
        u8"yerles",
        80,
        100000,
        400,
    },
    {
        13,
        3,
        0,
        5,
        u8"kobolt",
        81,
        100000,
        400,
    },
    {
        236,
        2,
        0,
        7,
        u8"yeek",
        82,
        100000,
        400,
    },
    {
        238,
        6,
        0,
        7,
        u8"yeek",
        83,
        100000,
        400,
    },
    {
        241,
        4,
        0,
        7,
        u8"yeek",
        84,
        100000,
        400,
    },
    {
        240,
        9,
        0,
        7,
        u8"yeek",
        85,
        50000,
        400,
    },
    {
        237,
        6,
        0,
        12,
        u8"yeek",
        86,
        150000,
        400,
    },
    {
        244,
        18,
        0,
        12,
        u8"norland",
        87,
        25000,
        400,
    },
    {
        245,
        25,
        0,
        0,
        u8"rock",
        88,
        20000,
        400,
    },
    {
        321,
        10,
        0,
        0,
        u8"norland",
        89,
        15000,
        200,
    },
    {
        242,
        14,
        3,
        7,
        u8"yeek",
        90,
        100000,
        400,
    },
    {
        239,
        5,
        7,
        0,
        u8"norland",
        91,
        100000,
        400,
    },
    {
        14,
        4,
        0,
        0,
        u8"centipede",
        92,
        100000,
        400,
    },
    {
        15,
        4,
        0,
        0,
        u8"mushroom",
        93,
        50000,
        400,
    },
    {
        283,
        8,
        0,
        0,
        u8"mushroom",
        94,
        50000,
        400,
    },
    {
        284,
        21,
        0,
        0,
        u8"mushroom",
        95,
        50000,
        400,
    },
    {
        16,
        5,
        7,
        0,
        u8"yerles",
        96,
        100000,
        400,
    },
    {
        39,
        5,
        7,
        0,
        u8"yerles",
        97,
        100000,
        400,
    },
    {
        171,
        5,
        7,
        0,
        u8"yerles",
        98,
        100000,
        400,
    },
    {
        172,
        5,
        7,
        0,
        u8"yerles",
        99,
        100000,
        400,
    },
    {
        173,
        20,
        7,
        0,
        u8"yerles",
        100,
        100000,
        400,
    },
    {
        71,
        5,
        7,
        0,
        u8"norland",
        101,
        100000,
        400,
    },
    {
        72,
        5,
        1,
        0,
        u8"norland",
        102,
        100000,
        400,
    },
    {
        79,
        25,
        3,
        0,
        u8"norland",
        103,
        100000,
        400,
    },
    {
        80,
        35,
        3,
        0,
        u8"norland",
        104,
        100000,
        400,
    },
    {
        17,
        5,
        0,
        2,
        u8"orc",
        105,
        100000,
        400,
    },
    {
        281,
        7,
        0,
        0,
        u8"lizardman",
        106,
        100000,
        400,
    },
    {
        282,
        18,
        0,
        0,
        u8"minotaur",
        107,
        70000,
        400,
    },
    {
        296,
        22,
        0,
        0,
        u8"minotaur",
        108,
        70000,
        400,
    },
    {
        298,
        23,
        0,
        0,
        u8"minotaur",
        109,
        70000,
        400,
    },
    {
        299,
        25,
        0,
        0,
        u8"minotaur",
        110,
        40000,
        400,
    },
    {
        300,
        31,
        3,
        0,
        u8"minotaur",
        111,
        40000,
        400,
    },
    {
        251,
        14,
        0,
        2,
        u8"troll",
        112,
        100000,
        400,
    },
    {
        18,
        5,
        0,
        4,
        u8"elea",
        113,
        100000,
        400,
    },
    {
        24,
        5,
        0,
        4,
        u8"elea",
        114,
        100000,
        400,
    },
    {
        309,
        12,
        0,
        0,
        u8"asura",
        115,
        100000,
        400,
    },
    {
        310,
        26,
        0,
        0,
        u8"asura",
        116,
        100000,
        400,
    },
    {
        311,
        37,
        0,
        0,
        u8"asura",
        117,
        100000,
        400,
    },
    {
        41,
        5,
        7,
        0,
        u8"norland",
        118,
        100000,
        400,
    },
    {
        75,
        5,
        7,
        0,
        u8"norland",
        119,
        100000,
        400,
    },
    {
        19,
        5,
        0,
        0,
        u8"mandrake",
        120,
        100000,
        400,
    },
    {
        22,
        5,
        0,
        0,
        u8"beetle",
        121,
        100000,
        400,
    },
    {
        20,
        10,
        0,
        2,
        u8"orc",
        122,
        100000,
        400,
    },
    {
        25,
        25,
        2,
        2,
        u8"orc",
        123,
        100000,
        400,
    },
    {
        21,
        8,
        0,
        9,
        u8"zombie",
        124,
        100000,
        400,
    },
    {
        42,
        1,
        0,
        0,
        u8"bat",
        125,
        100000,
        400,
    },
    {
        43,
        10,
        0,
        0,
        u8"bat",
        126,
        70000,
        400,
    },
    {
        44,
        30,
        0,
        0,
        u8"bat",
        127,
        60000,
        400,
    },
    {
        45,
        15,
        0,
        0,
        u8"ent",
        128,
        100000,
        400,
    },
    {
        46,
        15,
        0,
        0,
        u8"ent",
        129,
        100000,
        400,
    },
    {
        47,
        20,
        0,
        0,
        u8"lich",
        130,
        60000,
        400,
    },
    {
        48,
        30,
        0,
        0,
        u8"lich",
        131,
        50000,
        400,
    },
    {
        49,
        45,
        0,
        0,
        u8"lich",
        132,
        40000,
        400,
    },
    {
        307,
        18,
        0,
        0,
        u8"lich",
        133,
        10000,
        400,
    },
    {
        308,
        35,
        0,
        0,
        u8"lich",
        134,
        10000,
        400,
    },
    {
        50,
        5,
        0,
        0,
        u8"hound",
        135,
        80000,
        400,
    },
    {
        51,
        10,
        0,
        14,
        u8"hound",
        136,
        70000,
        400,
    },
    {
        52,
        10,
        0,
        15,
        u8"hound",
        137,
        70000,
        400,
    },
    {
        53,
        12,
        0,
        16,
        u8"hound",
        138,
        70000,
        400,
    },
    {
        54,
        12,
        0,
        17,
        u8"hound",
        139,
        70000,
        400,
    },
    {
        55,
        18,
        0,
        18,
        u8"hound",
        140,
        50000,
        400,
    },
    {
        56,
        18,
        0,
        19,
        u8"hound",
        141,
        50000,
        400,
    },
    {
        57,
        15,
        0,
        20,
        u8"hound",
        142,
        50000,
        400,
    },
    {
        58,
        22,
        0,
        21,
        u8"hound",
        143,
        40000,
        400,
    },
    {
        59,
        25,
        0,
        22,
        u8"hound",
        144,
        40000,
        400,
    },
    {
        60,
        30,
        0,
        23,
        u8"hound",
        145,
        40000,
        400,
    },
    {
        61,
        4,
        0,
        0,
        u8"rabbit",
        146,
        100000,
        400,
    },
    {
        62,
        10,
        0,
        0,
        u8"rabbit",
        147,
        100000,
        400,
    },
    {
        63,
        7,
        0,
        0,
        u8"ghost",
        148,
        100000,
        400,
    },
    {
        64,
        3,
        0,
        0,
        u8"ghost",
        149,
        70000,
        400,
    },
    {
        312,
        8,
        0,
        0,
        u8"ent",
        150,
        40000,
        400,
    },
    {
        313,
        19,
        0,
        0,
        u8"ent",
        151,
        40000,
        400,
    },
    {
        65,
        12,
        0,
        0,
        u8"spirit",
        152,
        100000,
        400,
    },
    {
        66,
        30,
        0,
        0,
        u8"spirit",
        153,
        100000,
        400,
    },
    {
        67,
        2,
        0,
        0,
        u8"eye",
        154,
        80000,
        400,
    },
    {
        315,
        14,
        0,
        0,
        u8"eye",
        155,
        60000,
        400,
    },
    {
        316,
        7,
        0,
        0,
        u8"eye",
        156,
        60000,
        400,
    },
    {
        314,
        29,
        0,
        0,
        u8"eye",
        157,
        60000,
        400,
    },
    {
        68,
        20,
        0,
        0,
        u8"wyvern",
        158,
        50000,
        400,
    },
    {
        78,
        15,
        0,
        0,
        u8"eulderna",
        159,
        100000,
        400,
    },
    {
        81,
        5,
        0,
        0,
        u8"wasp",
        160,
        100000,
        400,
    },
    {
        82,
        10,
        0,
        0,
        u8"wasp",
        161,
        100000,
        400,
    },
    {
        83,
        22,
        0,
        0,
        u8"giant",
        162,
        60000,
        400,
    },
    {
        84,
        40,
        0,
        0,
        u8"giant",
        163,
        50000,
        400,
    },
    {
        85,
        7,
        0,
        0,
        u8"imp",
        164,
        100000,
        400,
    },
    {
        86,
        16,
        0,
        0,
        u8"imp",
        165,
        100000,
        400,
    },
    {
        87,
        27,
        0,
        0,
        u8"imp",
        166,
        100000,
        400,
    },
    {
        88,
        4,
        0,
        0,
        u8"hand",
        167,
        100000,
        400,
    },
    {
        89,
        11,
        0,
        0,
        u8"hand",
        168,
        100000,
        400,
    },
    {
        90,
        15,
        0,
        0,
        u8"hand",
        169,
        100000,
        400,
    },
    {
        91,
        5,
        0,
        0,
        u8"ghost",
        170,
        100000,
        400,
    },
    {
        92,
        13,
        0,
        0,
        u8"ghost",
        171,
        100000,
        400,
    },
    {
        93,
        8,
        0,
        0,
        u8"mandrake",
        172,
        100000,
        400,
    },
    {
        94,
        19,
        0,
        0,
        u8"mandrake",
        173,
        100000,
        400,
    },
    {
        95,
        10,
        0,
        0,
        u8"snake",
        174,
        100000,
        400,
    },
    {
        96,
        18,
        0,
        0,
        u8"snake",
        175,
        100000,
        400,
    },
    {
        97,
        16,
        0,
        0,
        u8"drake",
        176,
        100000,
        400,
    },
    {
        98,
        16,
        0,
        0,
        u8"drake",
        177,
        100000,
        400,
    },
    {
        99,
        7,
        0,
        13,
        u8"zombie",
        178,
        100000,
        400,
    },
    {
        100,
        14,
        0,
        13,
        u8"zombie",
        179,
        100000,
        400,
    },
    {
        101,
        22,
        0,
        13,
        u8"zombie",
        180,
        100000,
        400,
    },
    {
        257,
        28,
        3,
        13,
        u8"zombie",
        181,
        100000,
        400,
    },
    {
        254,
        19,
        0,
        13,
        u8"zombie",
        182,
        50000,
        400,
    },
    {
        102,
        2,
        0,
        1,
        u8"goblin",
        183,
        100000,
        400,
    },
    {
        103,
        6,
        0,
        1,
        u8"goblin",
        184,
        100000,
        400,
    },
    {
        104,
        8,
        0,
        1,
        u8"goblin",
        185,
        100000,
        400,
    },
    {
        105,
        10,
        0,
        1,
        u8"goblin",
        186,
        100000,
        400,
    },
    {
        106,
        12,
        0,
        0,
        u8"ghost",
        187,
        100000,
        400,
    },
    {
        107,
        12,
        0,
        0,
        u8"ghost",
        188,
        100000,
        400,
    },
    {
        108,
        4,
        0,
        11,
        u8"bear",
        189,
        100000,
        400,
    },
    {
        109,
        10,
        0,
        11,
        u8"bear",
        190,
        100000,
        400,
    },
    {
        344,
        28,
        0,
        11,
        u8"bear",
        191,
        50000,
        400,
    },
    {
        110,
        15,
        0,
        0,
        u8"armor",
        192,
        40000,
        400,
    },
    {
        111,
        25,
        0,
        0,
        u8"armor",
        193,
        30000,
        400,
    },
    {
        112,
        35,
        0,
        0,
        u8"armor",
        194,
        30000,
        400,
    },
    {
        113,
        45,
        0,
        0,
        u8"armor",
        195,
        30000,
        400,
    },
    {
        114,
        22,
        0,
        0,
        u8"medusa",
        196,
        100000,
        400,
    },
    {
        115,
        33,
        0,
        0,
        u8"medusa",
        197,
        100000,
        400,
    },
    {
        116,
        44,
        0,
        0,
        u8"medusa",
        198,
        100000,
        400,
    },
    {
        117,
        8,
        0,
        0,
        u8"cupid",
        199,
        100000,
        400,
    },
    {
        118,
        9,
        0,
        0,
        u8"phantom",
        200,
        100000,
        400,
    },
    {
        248,
        30,
        0,
        0,
        u8"dinosaur",
        201,
        50000,
        400,
    },
    {
        119,
        13,
        0,
        0,
        u8"harpy",
        202,
        100000,
        400,
    },
    {
        120,
        32,
        0,
        0,
        u8"dragon",
        203,
        30000,
        400,
    },
    {
        121,
        40,
        0,
        0,
        u8"dragon",
        204,
        20000,
        400,
    },
    {
        122,
        40,
        0,
        0,
        u8"dragon",
        205,
        20000,
        400,
    },
    {
        123,
        40,
        0,
        0,
        u8"dragon",
        206,
        20000,
        400,
    },
    {
        124,
        45,
        0,
        0,
        u8"dragon",
        207,
        10000,
        400,
    },
    {
        125,
        50,
        0,
        0,
        u8"dragon",
        208,
        10000,
        400,
    },
    {
        126,
        23,
        0,
        0,
        u8"cerberus",
        209,
        40000,
        400,
    },
    {
        255,
        4,
        0,
        0,
        u8"centipede",
        210,
        100000,
        400,
    },
    {
        256,
        24,
        0,
        0,
        u8"centipede",
        211,
        100000,
        400,
    },
    {
        127,
        3,
        0,
        6,
        u8"spider",
        212,
        100000,
        400,
    },
    {
        128,
        11,
        0,
        6,
        u8"spider",
        213,
        100000,
        400,
    },
    {
        129,
        21,
        0,
        6,
        u8"spider",
        214,
        100000,
        400,
    },
    {
        130,
        15,
        0,
        6,
        u8"spider",
        215,
        100000,
        400,
    },
    {
        131,
        28,
        0,
        6,
        u8"spider",
        216,
        100000,
        400,
    },
    {
        132,
        13,
        0,
        0,
        u8"golem",
        217,
        40000,
        400,
    },
    {
        133,
        19,
        0,
        0,
        u8"golem",
        218,
        40000,
        400,
    },
    {
        134,
        25,
        0,
        0,
        u8"golem",
        219,
        40000,
        400,
    },
    {
        135,
        30,
        0,
        0,
        u8"golem",
        220,
        30000,
        400,
    },
    {
        136,
        35,
        0,
        0,
        u8"golem",
        221,
        20000,
        400,
    },
    {
        137,
        40,
        0,
        0,
        u8"golem",
        222,
        15000,
        400,
    },
    {
        138,
        50,
        0,
        0,
        u8"golem",
        223,
        15000,
        400,
    },
    {
        147,
        16,
        0,
        0,
        u8"crab",
        224,
        100000,
        400,
    },
    {
        148,
        18,
        0,
        0,
        u8"centipede",
        225,
        100000,
        400,
    },
    {
        149,
        20,
        0,
        0,
        u8"goblin",
        226,
        100000,
        400,
    },
    {
        150,
        12,
        0,
        9,
        u8"skeleton",
        227,
        100000,
        400,
    },
    {
        151,
        20,
        0,
        9,
        u8"skeleton",
        228,
        100000,
        400,
    },
    {
        152,
        20,
        0,
        9,
        u8"eulderna",
        229,
        100000,
        400,
    },
    {
        153,
        12,
        0,
        0,
        u8"piece",
        230,
        100000,
        400,
    },
    {
        154,
        16,
        0,
        0,
        u8"piece",
        231,
        100000,
        400,
    },
    {
        155,
        18,
        0,
        0,
        u8"piece",
        232,
        100000,
        400,
    },
    {
        156,
        18,
        0,
        0,
        u8"piece",
        233,
        100000,
        400,
    },
    {
        157,
        22,
        0,
        0,
        u8"piece",
        234,
        100000,
        400,
    },
    {
        158,
        22,
        0,
        0,
        u8"piece",
        235,
        100000,
        400,
    },
    {
        159,
        20,
        0,
        8,
        u8"norland",
        236,
        25000,
        400,
    },
    {
        160,
        20,
        0,
        8,
        u8"norland",
        237,
        25000,
        400,
    },
    {
        161,
        20,
        0,
        8,
        u8"norland",
        238,
        25000,
        400,
    },
    {
        302,
        12,
        3,
        0,
        u8"juere",
        239,
        25000,
        400,
    },
    {
        303,
        10,
        0,
        0,
        u8"juere",
        240,
        25000,
        400,
    },
    {
        304,
        10,
        0,
        0,
        u8"juere",
        241,
        25000,
        400,
    },
    {
        305,
        10,
        0,
        0,
        u8"juere",
        242,
        25000,
        400,
    },
    {
        162,
        5,
        0,
        0,
        u8"yerles",
        243,
        100000,
        400,
    },
    {
        234,
        22,
        0,
        0,
        u8"yerles",
        244,
        100000,
        400,
    },
    {
        231,
        45,
        3,
        0,
        u8"juere",
        245,
        100000,
        400,
    },
    {
        232,
        17,
        0,
        0,
        u8"yerles",
        246,
        100000,
        400,
    },
    {
        233,
        7,
        0,
        0,
        u8"juere",
        247,
        100000,
        400,
    },
    {
        235,
        15,
        0,
        0,
        u8"juere",
        248,
        100000,
        400,
    },
    {
        163,
        9,
        0,
        0,
        u8"yerles",
        249,
        100000,
        400,
    },
    {
        164,
        4,
        0,
        0,
        u8"cat",
        250,
        100000,
        400,
    },
    {
        246,
        3,
        0,
        0,
        u8"cat",
        251,
        1000,
        0,
    },
    {
        332,
        9,
        0,
        0,
        u8"cat",
        252,
        10000,
        0,
    },
    {
        229,
        18,
        0,
        10,
        u8"cat",
        253,
        100000,
        400,
    },
    {
        230,
        25,
        3,
        0,
        u8"catgod",
        254,
        100000,
        400,
    },
    {
        228,
        20,
        0,
        0,
        u8"cat",
        255,
        100000,
        400,
    },
    {
        165,
        4,
        0,
        10,
        u8"dog",
        256,
        100000,
        400,
    },
    {
        225,
        1,
        3,
        0,
        u8"dog",
        257,
        100000,
        400,
    },
    {
        226,
        4,
        3,
        0,
        u8"roran",
        258,
        100000,
        400,
    },
    {
        227,
        5,
        3,
        0,
        u8"norland",
        259,
        100000,
        400,
    },
    {
        166,
        4,
        0,
        0,
        u8"roran",
        260,
        100000,
        400,
    },
    {
        167,
        1,
        0,
        0,
        u8"rat",
        261,
        100000,
        400,
    },
    {
        168,
        1,
        0,
        0,
        u8"shell",
        262,
        100000,
        400,
    },
    {
        170,
        1,
        0,
        0,
        u8"yerles",
        263,
        100000,
        400,
    },
    {
        175,
        80,
        3,
        0,
        u8"catgod",
        264,
        100000,
        400,
    },
    {
        176,
        1,
        1,
        0,
        u8"roran",
        265,
        100000,
        400,
    },
    {
        249,
        50,
        1,
        0,
        u8"roran",
        266,
        100000,
        400,
    },
    {
        210,
        1,
        1,
        0,
        u8"catsister",
        267,
        100000,
        400,
    },
    {
        211,
        1,
        1,
        0,
        u8"roran",
        268,
        100000,
        400,
    },
    {
        177,
        80,
        3,
        0,
        u8"machinegod",
        269,
        100000,
        400,
    },
    {
        178,
        80,
        3,
        0,
        u8"undeadgod",
        270,
        100000,
        400,
    },
    {
        179,
        35,
        1,
        0,
        u8"norland",
        271,
        100000,
        400,
    },
    {
        208,
        45,
        3,
        0,
        u8"dwarf",
        272,
        100000,
        400,
    },
    {
        209,
        45,
        3,
        0,
        u8"dwarf",
        273,
        100000,
        400,
    },
    {
        180,
        1,
        4,
        0,
        u8"cat",
        274,
        100000,
        400,
    },
    {
        181,
        10,
        4,
        0,
        u8"hound",
        275,
        100000,
        400,
    },
    {
        182,
        8,
        0,
        0,
        u8"norland",
        276,
        100000,
        400,
    },
    {
        183,
        15,
        7,
        0,
        u8"norland",
        277,
        20000,
        400,
    },
    {
        184,
        9,
        7,
        0,
        u8"norland",
        278,
        40000,
        400,
    },
    {
        185,
        20,
        7,
        0,
        u8"yerles",
        279,
        100000,
        400,
    },
    {
        350,
        10,
        1,
        0,
        u8"yerles",
        280,
        100000,
        400,
    },
    {
        186,
        5,
        0,
        0,
        u8"machine",
        281,
        100000,
        400,
    },
    {
        187,
        13,
        0,
        0,
        u8"machine",
        282,
        100000,
        400,
    },
    {
        188,
        30,
        0,
        0,
        u8"machine",
        283,
        100000,
        400,
    },
    {
        345,
        22,
        3,
        0,
        u8"bike",
        284,
        100000,
        400,
    },
    {
        346,
        8,
        0,
        0,
        u8"bike",
        285,
        5000,
        400,
    },
    {
        341,
        15,
        0,
        0,
        u8"machine",
        286,
        25000,
        400,
    },
    {
        258,
        25,
        0,
        0,
        u8"machine",
        287,
        50000,
        400,
    },
    {
        189,
        8,
        0,
        0,
        u8"eye",
        288,
        60000,
        400,
    },
    {
        190,
        19,
        0,
        0,
        u8"eye",
        289,
        60000,
        400,
    },
    {
        191,
        14,
        0,
        0,
        u8"wisp",
        290,
        50000,
        400,
    },
    {
        192,
        5,
        0,
        0,
        u8"crab",
        291,
        100000,
        400,
    },
    {
        193,
        15,
        0,
        0,
        u8"crab",
        292,
        70000,
        400,
    },
    {
        195,
        1,
        0,
        0,
        u8"chicken",
        293,
        30000,
        400,
    },
    {
        196,
        7,
        0,
        0,
        u8"mandrake",
        294,
        60000,
        400,
    },
    {
        201,
        5,
        0,
        0,
        u8"mandrake",
        295,
        20000,
        400,
    },
    {
        197,
        18,
        0,
        0,
        u8"mandrake",
        296,
        60000,
        400,
    },
    {
        198,
        30,
        0,
        0,
        u8"mandrake",
        297,
        60000,
        400,
    },
    {
        199,
        12,
        0,
        0,
        u8"stalker",
        298,
        30000,
        400,
    },
    {
        200,
        26,
        0,
        0,
        u8"stalker",
        299,
        30000,
        400,
    },
    {
        202,
        80,
        3,
        0,
        u8"giant",
        300,
        100000,
        400,
    },
    {
        203,
        10,
        1,
        0,
        u8"norland",
        301,
        100000,
        400,
    },
    {
        205,
        1,
        1,
        0,
        u8"yerles",
        302,
        100000,
        400,
    },
    {
        207,
        30,
        3,
        0,
        u8"giant",
        303,
        100000,
        400,
    },
    {
        212,
        1,
        3,
        0,
        u8"juere",
        304,
        100000,
        400,
    },
    {
        213,
        1,
        3,
        0,
        u8"roran",
        305,
        100000,
        400,
    },
    {
        221,
        10,
        3,
        0,
        u8"roran",
        306,
        100000,
        400,
    },
    {
        222,
        15,
        3,
        0,
        u8"roran",
        307,
        100000,
        400,
    },
    {
        223,
        10,
        3,
        0,
        u8"norland",
        308,
        100000,
        400,
    },
    {
        224,
        7,
        3,
        0,
        u8"norland",
        309,
        100000,
        400,
    },
    {
        243,
        15,
        3,
        0,
        u8"norland",
        310,
        100000,
        400,
    },
    {
        247,
        4,
        3,
        0,
        u8"norland",
        311,
        100000,
        400,
    },
    {
        252,
        45,
        3,
        0,
        u8"norland",
        312,
        100000,
        400,
    },
    {
        253,
        25,
        3,
        0,
        u8"juere",
        313,
        100000,
        400,
    },
    {
        259,
        20,
        3,
        0,
        u8"juere",
        314,
        100000,
        400,
    },
    {
        301,
        38,
        3,
        0,
        u8"norland",
        315,
        100000,
        400,
    },
    {
        214,
        2,
        0,
        0,
        u8"juere",
        316,
        30000,
        400,
    },
    {
        215,
        5,
        0,
        0,
        u8"juere",
        317,
        30000,
        400,
    },
    {
        217,
        35,
        0,
        0,
        u8"juere",
        318,
        30000,
        400,
    },
    {
        216,
        50,
        0,
        0,
        u8"yith",
        319,
        20000,
        400,
    },
    {
        218,
        45,
        0,
        0,
        u8"yith",
        320,
        40000,
        400,
    },
    {
        219,
        38,
        0,
        0,
        u8"orc",
        321,
        80000,
        400,
    },
    {
        220,
        65,
        0,
        0,
        u8"yith",
        322,
        30000,
        400,
    },
    {
        250,
        13,
        0,
        0,
        u8"fairy",
        323,
        50000,
        400,
    },
    {
        260,
        8,
        3,
        0,
        u8"servant",
        324,
        50000,
        400,
    },
    {
        261,
        8,
        3,
        0,
        u8"servant",
        325,
        50000,
        400,
    },
    {
        262,
        8,
        3,
        0,
        u8"servant",
        326,
        50000,
        400,
    },
    {
        263,
        8,
        3,
        0,
        u8"servant",
        327,
        50000,
        400,
    },
    {
        264,
        8,
        3,
        0,
        u8"servant",
        328,
        50000,
        400,
    },
    {
        265,
        8,
        3,
        0,
        u8"servant",
        329,
        50000,
        400,
    },
    {
        266,
        8,
        3,
        0,
        u8"servant",
        330,
        50000,
        400,
    },
    {
        267,
        1,
        0,
        0,
        u8"horse",
        331,
        10000,
        400,
    },
    {
        276,
        4,
        0,
        0,
        u8"horse",
        332,
        10000,
        400,
    },
    {
        275,
        10,
        0,
        0,
        u8"horse",
        333,
        10000,
        400,
    },
    {
        268,
        15,
        0,
        0,
        u8"horse",
        334,
        10000,
        400,
    },
    {
        277,
        20,
        0,
        0,
        u8"horse",
        335,
        10000,
        400,
    },
    {
        278,
        6,
        0,
        0,
        u8"mutant",
        336,
        70000,
        400,
    },
    {
        279,
        15,
        3,
        0,
        u8"yerles",
        337,
        100000,
        400,
    },
    {
        280,
        10,
        3,
        0,
        u8"norland",
        338,
        100000,
        400,
    },
    {
        288,
        55,
        3,
        0,
        u8"norland",
        339,
        100000,
        400,
    },
    {
        290,
        38,
        3,
        0,
        u8"norland",
        340,
        100000,
        400,
    },
    {
        292,
        55,
        3,
        0,
        u8"juere",
        341,
        100000,
        400,
    },
    {
        294,
        38,
        3,
        0,
        u8"juere",
        342,
        100000,
        400,
    },
    {
        291,
        55,
        3,
        0,
        u8"norland",
        343,
        100000,
        400,
    },
    {
        297,
        38,
        3,
        0,
        u8"norland",
        344,
        100000,
        400,
    },
    {
        317,
        28,
        0,
        0,
        u8"roran",
        345,
        50000,
        400,
    },
    {
        318,
        30,
        3,
        0,
        u8"machinegod",
        346,
        50000,
        400,
    },
    {
        319,
        1,
        3,
        0,
        u8"mutant",
        347,
        50000,
        400,
    },
    {
        322,
        15,
        3,
        0,
        u8"roran",
        348,
        50000,
        400,
    },
    {
        334,
        7,
        3,
        0,
        u8"juere",
        349,
        50000,
        400,
    },
    {
        323,
        12,
        0,
        0,
        u8"ghost",
        350,
        10000,
        0,
    },
    {
        324,
        10,
        0,
        0,
        u8"quickling",
        351,
        15000,
        400,
    },
    {
        325,
        17,
        0,
        0,
        u8"quickling",
        352,
        15000,
        400,
    },
    {
        328,
        3,
        0,
        0,
        u8"metal",
        353,
        2000,
        0,
    },
    {
        329,
        1,
        0,
        0,
        u8"metal",
        354,
        5000,
        0,
    },
    {
        330,
        19,
        0,
        0,
        u8"dinosaur",
        355,
        40000,
        400,
    },
};


struct character_id
{
    int id;
    int cnpcid; // It is used only if id equals 343.
};


} // namespace



namespace elona
{


void label_2299()
{
    weighted_random_sampler<character_id> sampler;

    for (const auto& info : character_generation_info_table)
    {
        if (info.level > objlv)
            continue;
        if (fltselect != info.fltselect)
            continue;
        if (flttypemajor != 0 && flttypemajor != info.category)
            continue;
        if (!std::empty(fltnrace(0)) && fltnrace(0) != info.race)
            continue;
        if (filtermax != 0)
        {
            // FIXME: use std::all_of
            bool ok = true;
            for (int i = 0; i < filtermax; ++i)
            {
                if (filter_creature(info.filter_creature_index).find(filtern(i))
                    == std::string::npos)
                {
                    ok = false;
                    break;
                }
            }
            if (!ok)
                continue;
        }
        sampler.add(
            {info.id, 0},
            info.rarity
                    / (500 + std::abs(info.level - objlv) * info.coefficient)
                + 1);
    }

    if (!cmshade)
    {
        for (int i = 0; i < usernpcmax; ++i)
        {
            if (userdata(2, i) > objlv)
                continue;
            if (fltselect != userdata(12, i))
                continue;
            if (flttypemajor != 0)
                continue;
            if (!std::empty(fltnrace(0)) && fltnrace(0) != userdatan(2, i))
                continue;
            if (filtermax != 0)
            {
                // FIXME: use std::all_of
                bool ok = false;
                for (int j = 0; j < filtermax; ++j)
                {
                    if (userdatan(4, i).find(filtern(j)) == std::string::npos)
                    {
                        ok = false;
                        break;
                    }
                }
                if (!ok)
                    continue;
            }
            sampler.add(
                {343, i},
                std::clamp(userdata(6, i), 1'000, 500'000)
                        / (500 + std::abs(userdata(2, i) - objlv) * 400)
                    + 1);
        }
    }

    const auto [id, cnpcid] = sampler.get().value_or(character_id{0, 0});
    dbid = id;
    if (id == 343)
    {
        cdata_cnpc_id(rc) = cnpcid;
    }
}



} // namespace elona
